{"version":3,"file":"component---src-templates-vehicles-template-js-24db3298efffa03539f3.js","mappings":"4QAKA,MAAMA,EAAkB,CACpB,CACIC,OAAQ,KACRC,UAAW,2HACXC,MAAO,gBACPC,MAAO,IACPC,MAAO,GACPC,UAAW,SAEf,CACIL,OAAQ,KACRC,UAAW,2HACXC,MAAO,gBACPC,MAAO,IACPC,MAAO,GACPC,UAAW,SAEf,CACIL,OAAQ,KACRC,UAAW,2HACXC,MAAO,gBACPC,MAAO,IACPC,MAAO,GACPC,UAAW,SAEf,CACIL,OAAQ,KACRC,UAAW,2HACXC,MAAO,gBACPC,MAAO,IACPC,MAAO,GACPC,UAAW,SAEf,CACIL,OAAQ,KACRC,UAAW,2HACXC,MAAO,gBACPC,MAAO,IACPC,MAAO,GACPC,UAAW,UA+BnB,MA3BmB,CAACA,EAAWL,KAC3B,MAAM,EAACM,EAAQ,EAACC,IAAcC,EAAAA,EAAAA,UAAS,MAuBvC,OArBAC,EAAAA,EAAAA,YAAU,KACN,IAAKJ,IAAcL,EAAQ,OAE3B,GAAkB,SAAdK,EAEA,YADAE,EAAWR,EAAgBW,MAAKC,GAAKA,EAAEX,SAAWA,KAAW,MAI/CY,WACd,IACI,MAAMC,QAAiBC,EAAAA,EAAMC,IAAK,mFAAmFV,YAAsBL,KAC3IO,EAAWM,EAASG,KAAKC,KAC7B,CAAE,MAAOC,GACLX,EAAW,YACLY,EAAAA,EAAAA,IAAS,OACnB,GAGJC,GAAYC,MAAM,GACnB,CAAChB,EAAWL,IAER,CAAEM,UAAS,ECjBtB,MA1CyB,IAAiB,IAAhB,OAAEgB,GAAQ,EAChC,MAAM,KAAEN,IAASO,EAAAA,EAAAA,MACX,KAAEC,IAASC,EAAAA,EAAAA,MACX,QAAEnB,GAAYoB,EAAWV,aAAI,EAAJA,EAAMW,GAAIL,EAAO,MAchD,OAAKN,GAASV,EAKV,gBAACsB,EAAA,EAAM,CAACZ,KAAOA,EAAOQ,KAAOA,GACzB,uBAAKK,UAAU,0EACX,uBAAKA,UAAU,oBACX,uBAAKA,UAAU,qEAAqEC,IAAMxB,EAAQL,UAAY8B,IAAMzB,EAAQJ,QAC5H,uBAAK2B,UAAU,qCACX,sBAAIA,UAAU,uCAAwCvB,EAAQJ,OAC9D,sBAAI2B,UAAU,2CAA0C,IAAGvB,EAAQH,OACnE,qBAAG0B,UAAU,kCAAmCvB,EAAQ0B,MACxD,uBAAKH,UAAU,uBACX,gBAAC,KAAM,CAACI,MAAM,UAAUC,QA1BzBtB,UACH,SAAZI,EAAKW,GAKJH,UACKL,EAAAA,EAAAA,IAAS,UACfgB,aAAaC,QAAQ,WAAa,aAAad,EAAO,SANtDe,MAAM,2CAOV,EAiBuER,UAAU,oBAAmB,iBAb7F,gBAACS,EAAA,EAAO,KAoBN,C","sources":["webpack://gatsby-starter-hello-world/./src/hooks/useVehicle.js","webpack://gatsby-starter-hello-world/./src/templates/vehicles-template.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nimport axios from 'axios';\r\nimport { navigate } from \"gatsby\";\r\n\r\nconst defaultVehicles = [\r\n    {\r\n        car_id: \"E3\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 3\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    },\r\n    {\r\n        car_id: \"E5\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 5\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    },\r\n    {\r\n        car_id: \"E1\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 1\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    },\r\n    {\r\n        car_id: \"E4\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 4\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    },\r\n    {\r\n        car_id: \"E2\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 2\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    }\r\n];\r\n\r\nconst useVehicle = (tenant_id, car_id) => {\r\n    const [vehicle, setVehicle] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (!tenant_id || !car_id) return\r\n\r\n        if (tenant_id === 'NONE') {\r\n            setVehicle(defaultVehicles.find(v => v.car_id === car_id) || null);\r\n            return;\r\n        }\r\n\r\n        const fetchCars = async () => {\r\n            try {\r\n                const response = await axios.get(`https://06v3og3ci7.execute-api.us-east-1.amazonaws.com/prod/cars/get1?tenant_id=${ tenant_id }&car_id=${ car_id }`);\r\n                setVehicle(response.data.body);\r\n            } catch (error) {\r\n                setVehicle(null);\r\n                await navigate('/404');\r\n            }\r\n        };\r\n\r\n        fetchCars().then();\r\n    }, [tenant_id, car_id]);\r\n\r\n    return { vehicle };\r\n};\r\n\r\nexport default useVehicle;\r\n","import React from 'react';\r\n\r\nimport { Button } from \"flowbite-react\";\r\nimport { navigate } from \"gatsby\";\r\n\r\nimport Layout from \"../components/Layout\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nimport useData from \"../hooks/useData\";\r\nimport useUser from \"../hooks/useUser\";\r\n\r\nimport useVehicle from \"../hooks/useVehicle\";\r\n\r\nconst VehiclesTemplate = ({ params }) => {\r\n    const { data } = useData();\r\n    const { user } = useUser();\r\n    const { vehicle } = useVehicle(data?.id, params['*']);\r\n\r\n    const handlePurchase = async () => {\r\n        if (data.id === 'NONE') {\r\n            alert('You cannot purchase on our demo page. :D');\r\n            return;\r\n        }\r\n\r\n        if (!user) {\r\n            await navigate('/login')\r\n            localStorage.setItem('redirect', `/vehicles/${ params['*'] }`);\r\n        }\r\n    };\r\n\r\n    if (!data || !vehicle) {\r\n        return <Loading/>;\r\n    }\r\n\r\n    return (\r\n        <Layout data={ data } user={ user }>\r\n            <div className=\"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-100\">\r\n                <div className=\"w-full max-w-4xl\">\r\n                    <img className=\"w-full h-auto object-cover object-center mb-4 rounded-lg shadow-md\" src={ vehicle.image_url } alt={ vehicle.model }/>\r\n                    <div className=\"p-6 bg-white rounded-lg shadow-md\">\r\n                        <h1 className=\"text-4xl font-bold mb-4 text-center\">{ vehicle.model }</h1>\r\n                        <h2 className=\"text-2xl text-gray-800 mb-4 text-center\">${ vehicle.price }</h2>\r\n                        <p className=\"text-gray-600 text-center mb-4\">{ vehicle.year }</p>\r\n                        <div className=\"flex justify-center\">\r\n                            <Button color=\"success\" onClick={ handlePurchase } className=\"w-full md:w-auto\">\r\n                                Purchase\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default VehiclesTemplate;"],"names":["defaultVehicles","car_id","image_url","model","price","stock","tenant_id","vehicle","setVehicle","useState","useEffect","find","v","async","response","axios","get","data","body","error","navigate","fetchCars","then","params","useData","user","useUser","useVehicle","id","Layout","className","src","alt","year","color","onClick","localStorage","setItem","alert","Loading"],"sourceRoot":""}