{"version":3,"file":"component---src-pages-index-js-4d21c73b7dc9b3bdc7b6.js","mappings":"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","sources":["webpack://gatsby-starter-hello-world/./src/hooks/useUser.js","webpack://gatsby-starter-hello-world/./src/hooks/useVehicles.js","webpack://gatsby-starter-hello-world/./src/pages/index.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nimport axios from 'axios';\r\n\r\nconst useUser = (tenant_id, email, password) => {\r\n    const [user, setUser] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const localUser = localStorage.getItem('user');\r\n\r\n        if (localUser) {\r\n            setUser(JSON.parse(localUser));\r\n        }\r\n    }, []);\r\n\r\n    const login = async (tenant_id, email, password) => {\r\n        setLoading(true);\r\n\r\n        try {\r\n            const response = await axios.post('https://zygv7lwv32.execute-api.us-east-1.amazonaws.com/prod/users/login', {\r\n                tenant_id,\r\n                email,\r\n                password\r\n            });\r\n\r\n            if (response.data.statusCode === 200) {\r\n                setUser(response.data.body);\r\n            }\r\n\r\n            localStorage.setItem('user', JSON.stringify(response.data.body));\r\n        } catch (error) {\r\n            setUser(null);\r\n        }\r\n\r\n        setLoading(false);\r\n    }\r\n\r\n    return { user, loading, login };\r\n};\r\n\r\nexport default useUser;\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport axios from 'axios';\r\nimport { navigate } from \"gatsby\";\r\n\r\nconst defaultVehicles = [\r\n    {\r\n        car_id: \"E3\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 3\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    },\r\n    {\r\n        car_id: \"E5\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 5\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    },\r\n    {\r\n        car_id: \"E1\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 1\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    },\r\n    {\r\n        car_id: \"E4\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 4\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    },\r\n    {\r\n        car_id: \"E2\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 2\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    }\r\n];\r\n\r\nconst useVehicles = (tenant_id) => {\r\n    const [vehicles, setVehicles] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (!tenant_id) return\r\n\r\n        if (tenant_id === 'NONE') {\r\n            setVehicles(defaultVehicles);\r\n            return;\r\n        }\r\n\r\n        const fetchCars = async () => {\r\n            try {\r\n                const response = await axios.get(`https://06v3og3ci7.execute-api.us-east-1.amazonaws.com/prod/cars/get?tenant_id=${ tenant_id }`);\r\n                setVehicles(response.data.body);\r\n            } catch (error) {\r\n                setVehicles(null);\r\n                await navigate('/404');\r\n            }\r\n        };\r\n\r\n        fetchCars().then();\r\n    }, [tenant_id]);\r\n\r\n    return { vehicles };\r\n};\r\n\r\nexport default useVehicles;\r\n","import React from 'react';\r\n\r\nimport { Carousel } from 'flowbite-react';\r\n\r\nimport Layout from \"../components/Layout\";\r\nimport Loading from '../components/Loading';\r\n\r\nimport useData from \"../hooks/useData\";\r\nimport useUser from \"../hooks/useUser\";\r\n\r\nimport useVehicles from \"../hooks/useVehicles\";\r\n\r\nimport { Link } from \"gatsby\";\r\n\r\nconst Index = () => {\r\n    const { data } = useData();\r\n    const { user } = useUser();\r\n    const { vehicles } = useVehicles(data?.id);\r\n\r\n    if (!data || !vehicles) {\r\n        return <Loading/>;\r\n    }\r\n\r\n    const featured = vehicles.slice(2, 5);\r\n\r\n    return (\r\n        <Layout data={ data } user={ user }>\r\n            <div className=\"container mx-auto px-4 py-8\">\r\n                <h1 className=\"text-4xl font-bold text-center mb-8\">Welcome to Our Website</h1>\r\n\r\n                <div className=\"mb-16 flex justify-center\">\r\n                    <div className=\"w-full sm:w-3/4 md:w-3/4 lg:w-1/2\">\r\n                        <Carousel>\r\n                            { data.carousel.map((image) => (\r\n                                <div className=\"relative\">\r\n                                    <img src={ image.url } alt={ image.alt } className=\"block w-full h-auto\"/>\r\n                                </div>\r\n                            )) }\r\n                        </Carousel>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"mb-16\">\r\n                    <h2 className=\"text-3xl font-bold text-center mb-6\">Featured Images</h2>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                        { featured.map(car => (\r\n                            <Link to={ `/vehicles/${ car.car_id }` } className=\"flex flex-col items-center rounded-lg p-3 hover:shadow-lg transition-shadow duration-300\">\r\n                                <div className=\"w-full h-40 overflow-hidden flex items-center justify-center mb-3\">\r\n                                    <img src={ car.image_url } alt={ car.model } className=\"object-contain w-full h-full rounded\"/>\r\n                                </div>\r\n                                <p className=\"text-md font-semibold\">{ car.model }</p>\r\n                                <p className=\"text-md font-semibold mt-1 text-yellow-300\">${ car.price }</p>\r\n                            </Link>\r\n                        )) }\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"mb-16\">\r\n                    <h2 className=\"text-3xl font-bold text-center mb-6\">Our Location</h2>\r\n\r\n                    <div className=\"flex justify-center\">\r\n                        <div className=\"w-full h-64 md:h-96 lg:w-3/4 lg:h-72 mx-auto rounded-lg overflow-hidden shadow-lg\">\r\n                            <iframe title=\"Google Maps\" width=\"100%\" height=\"100%\" src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15605.095819436677!2d-77.0505357191229!3d-12.046374871580071!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9105c88ee27c9921%3A0x4a52b9a6e8f2e5a1!2sLima%2C%20Peru!5e0!3m2!1sen!2sus!4v1623859823420!5m2!1sen!2sus\" allowFullScreen></iframe>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default Index;"],"names":["tenant_id","email","password","user","setUser","useState","loading","setLoading","useEffect","localUser","localStorage","getItem","JSON","parse","login","async","response","axios","post","data","statusCode","body","setItem","stringify","error","defaultVehicles","car_id","image_url","model","price","stock","vehicles","setVehicles","get","navigate","fetchCars","then","useData","useUser","useVehicles","id","featured","slice","className","carousel","map","image","src","url","alt","car","to","title","width","height","allowFullScreen"],"sourceRoot":""}