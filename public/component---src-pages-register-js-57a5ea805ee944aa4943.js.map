{"version":3,"file":"component---src-pages-register-js-57a5ea805ee944aa4943.js","mappings":"6NAoFA,UAzEiB,KACb,MAAM,KAAEA,IAASC,EAAAA,EAAAA,MACX,KAAEC,EAAI,MAAEC,EAAK,QAAEC,EAAO,SAAEC,IAAaC,EAAAA,EAAAA,MAErC,EAACC,EAAK,EAACC,IAAWC,EAAAA,EAAAA,UAAS,KAC3B,EAACC,EAAM,EAACC,IAAYF,EAAAA,EAAAA,UAAS,KAC7B,EAACG,EAAS,EAACC,IAAeJ,EAAAA,EAAAA,UAAS,KAEzCK,EAAAA,EAAAA,YAAU,KACN,GAAIZ,EAAM,CACN,MAAMa,EAAWC,aAAaC,QAAQ,YAEtC,GAAIF,EAGA,OAFAC,aAAaE,WAAW,iBACxBC,EAAAA,EAAAA,IAASJ,IAIbI,EAAAA,EAAAA,IAAS,IACb,IACD,CAACjB,IAiBJ,OAAKF,EAKD,gBAAC,IAAM,CAACA,KAAOA,GACX,uBAAKoB,UAAU,4FACX,uBAAKA,UAAU,8EACX,sBAAIA,UAAU,sDAAsDC,MAAQ,CAAEC,MAAOtB,EAAKsB,QAAU,YAClGnB,GAAS,qBAAGiB,UAAU,iCAAkCjB,GAE1D,wBAAMoB,SA1BCC,UACnBC,EAAMC,iBAEU,SAAZ1B,EAAK2B,SAKHtB,EAASL,EAAK2B,GAAIpB,EAAMG,EAAOE,GAJjCgB,MAAM,2CAIoC,GAmB9B,uBAAKR,UAAU,QACX,gBAAC,KAAS,CAACO,GAAG,OAAOE,KAAK,OAAOC,MAAQvB,EAAOwB,SAAYC,GAAMxB,EAAQwB,EAAEC,OAAOH,OAASI,YAAY,WAAWC,UAAQ,KAG/H,uBAAKf,UAAU,QACX,gBAAC,KAAS,CAACO,GAAG,QAAQE,KAAK,QAAQC,MAAQpB,EAAQqB,SAAYC,GAAMrB,EAASqB,EAAEC,OAAOH,OAASI,YAAY,iBAAiBC,UAAQ,KAGzI,uBAAKf,UAAU,QACX,gBAAC,KAAS,CAACO,GAAG,WAAWE,KAAK,WAAWC,MAAQlB,EAAWmB,SAAYC,GAAMnB,EAAYmB,EAAEC,OAAOH,OAASI,YAAY,WAAWC,UAAQ,KAG/I,gBAAC,KAAM,CAACN,KAAK,SAAST,UAAU,SAASE,MAAM,WAAYlB,EAAU,iBAAmB,aAG5F,uBAAKgB,UAAU,4BACX,gBAAC,KAAM,CAACgB,QAhCRZ,gBACVL,EAAAA,EAAAA,IAAS,SAAS,EA+BwBG,MAAM,OAAOF,UAAU,UAAS,cA3BzE,gBAAC,IAAO,KA+BN,C","sources":["webpack://gatsby-starter-hello-world/./src/pages/register.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport { navigate } from \"gatsby\";\r\nimport { Button, TextInput } from 'flowbite-react';\r\n\r\nimport Layout from \"../components/Layout\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nimport useData from \"../hooks/useData\";\r\nimport useUser from \"../hooks/useUser\";\r\n\r\nconst Register = () => {\r\n    const { data } = useData();\r\n    const { user, error, loading, register } = useUser();\r\n\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            const redirect = localStorage.getItem('redirect');\r\n\r\n            if (redirect) {\r\n                localStorage.removeItem('redirect');\r\n                navigate(redirect);\r\n                return;\r\n            }\r\n\r\n            navigate('/');\r\n        }\r\n    }, [user]);\r\n\r\n    const handleRegister = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if (data.id === 'NONE') {\r\n            alert('You cannot register on our demo page. :D');\r\n            return;\r\n        }\r\n\r\n        await register(data.id, name, email, password)\r\n    };\r\n\r\n    const handleLogin = async () => {\r\n        await navigate('/login');\r\n    };\r\n\r\n    if (!data) {\r\n        return <Loading/>;\r\n    }\r\n\r\n    return (\r\n        <Layout data={ data }>\r\n            <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-r from-gray-100 to-gray-300\">\r\n                <div className=\"w-full max-w-md p-6 bg-white shadow-lg rounded-lg border-2 border-gray-200\">\r\n                    <h2 className=\"text-3xl font-bold text-center text-indigo-600 mb-6\" style={ { color: data.color } }>Register</h2>\r\n                    { error && <p className=\"text-red-500 text-center mb-4\">{ error }</p> }\r\n\r\n                    <form onSubmit={ handleRegister }>\r\n                        <div className=\"mb-4\">\r\n                            <TextInput id=\"name\" type=\"name\" value={ name } onChange={ (e) => setName(e.target.value) } placeholder=\"John Doe\" required/>\r\n                        </div>\r\n\r\n                        <div className=\"mb-4\">\r\n                            <TextInput id=\"email\" type=\"email\" value={ email } onChange={ (e) => setEmail(e.target.value) } placeholder=\"john@email.com\" required/>\r\n                        </div>\r\n\r\n                        <div className=\"mb-4\">\r\n                            <TextInput id=\"password\" type=\"password\" value={ password } onChange={ (e) => setPassword(e.target.value) } placeholder=\"********\" required/>\r\n                        </div>\r\n\r\n                        <Button type=\"submit\" className=\"w-full\" color=\"success\">{ loading ? 'Registering...' : 'Register' }</Button>\r\n                    </form>\r\n\r\n                    <div className=\"flex justify-center mt-4\">\r\n                        <Button onClick={ handleLogin } color=\"info\" className=\"w-full\">Log In</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default Register;\r\n"],"names":["data","useData","user","error","loading","register","useUser","name","setName","useState","email","setEmail","password","setPassword","useEffect","redirect","localStorage","getItem","removeItem","navigate","className","style","color","onSubmit","async","event","preventDefault","id","alert","type","value","onChange","e","target","placeholder","required","onClick"],"sourceRoot":""}