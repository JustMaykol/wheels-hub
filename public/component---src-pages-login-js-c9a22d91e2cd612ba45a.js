"use strict";(self.webpackChunkgatsby_starter_hello_world=self.webpackChunkgatsby_starter_hello_world||[]).push([[875],{8453:function(e,t,a){var l=a(7294),r=a(238);t.Z=(e,t,a)=>{const{0:o,1:s}=(0,l.useState)(null),{0:n,1:c}=(0,l.useState)(!1);(0,l.useEffect)((()=>{const e=localStorage.getItem("user");e&&s(JSON.parse(e))}),[]);return{user:o,loading:n,login:async(e,t,a)=>{c(!0);try{const l=await r.Z.post("https://zygv7lwv32.execute-api.us-east-1.amazonaws.com/prod/users/login",{tenant_id:e,email:t,password:a});200===l.data.statusCode&&s(l.data.body),localStorage.setItem("user",JSON.stringify(l.data.body))}catch(l){s(null)}c(!1)}}}},667:function(e,t,a){a.r(t);var l=a(7294),r=a(4160),o=a(6240),s=a(7255),n=a(580),c=a(6548),i=a(8453);t.default=()=>{const{data:e}=(0,c.Z)(),{user:t,loading:a,login:m}=(0,i.Z)(),{0:u,1:d}=(0,l.useState)(""),{0:g,1:f}=(0,l.useState)("");(0,l.useEffect)((()=>{if(t){const e=localStorage.getItem("redirect");e&&(localStorage.removeItem("redirect"),(0,r.c4)(e)),(0,r.c4)("/")}}),[t]);return e?l.createElement(s.Z,{data:e},l.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-gray-100 to-gray-300"},l.createElement("div",{className:"w-full max-w-md p-6 bg-white shadow-lg rounded-lg border-2 border-gray-200"},l.createElement("h2",{className:"text-3xl font-bold text-center text-indigo-600 mb-6",style:{color:e.color}},"Log In"),l.createElement("form",{onSubmit:async t=>{t.preventDefault(),"NONE"!==e.id?await m(e.id,u,g):alert("You cannot login on our demo page. :D")}},l.createElement("div",{className:"mb-4"},l.createElement(o.oi,{id:"email",type:"email",value:u,onChange:e=>d(e.target.value),placeholder:"john@email.com",required:!0})),l.createElement("div",{className:"mb-4"},l.createElement(o.oi,{id:"password",type:"password",value:g,onChange:e=>f(e.target.value),placeholder:"********",required:!0})),l.createElement(o.zx,{type:"submit",className:"w-full",color:"success"},a?"Logging in...":"Log In")),l.createElement("div",{className:"flex justify-center mt-4"},l.createElement(o.zx,{onClick:async()=>{await(0,r.c4)("/register")},color:"info",className:"w-full"},"Register"))))):l.createElement(n.Z,null)}}}]);
//# sourceMappingURL=component---src-pages-login-js-c9a22d91e2cd612ba45a.js.map