{"version":3,"file":"component---src-templates-vehicles-template-js-52e1ef599181d5e07ae2.js","mappings":"oKAyCA,IArCgB,CAACA,EAAWC,EAAOC,KAC/B,MAAM,EAACC,EAAK,EAACC,IAAWC,EAAAA,EAAAA,UAAS,OAC3B,EAACC,EAAQ,EAACC,IAAcF,EAAAA,EAAAA,WAAS,IAEvCG,EAAAA,EAAAA,YAAU,KACN,MAAMC,EAAYC,aAAaC,QAAQ,QAEnCF,GACAL,EAAQQ,KAAKC,MAAMJ,GACvB,GACD,IAwBH,MAAO,CAAEN,OAAMG,UAASQ,MAtBVC,MAAOf,EAAWC,EAAOC,KACnCK,GAAW,GAEX,IACI,MAAMS,QAAiBC,EAAAA,EAAMC,KAAK,0EAA2E,CACzGlB,YACAC,QACAC,aAG6B,MAA7Bc,EAASG,KAAKC,YACdhB,EAAQY,EAASG,KAAKE,MAG1BX,aAAaY,QAAQ,OAAQV,KAAKW,UAAUP,EAASG,KAAKE,MAC9D,CAAE,MAAOG,GACLpB,EAAQ,KACZ,CAEAG,GAAW,EAAM,EAGU,C,kICjCnC,MAAMkB,EAAkB,CACpB,CACIC,OAAQ,KACRC,UAAW,2HACXC,MAAO,gBACPC,MAAO,IACPC,MAAO,GACP9B,UAAW,SAEf,CACI0B,OAAQ,KACRC,UAAW,2HACXC,MAAO,gBACPC,MAAO,IACPC,MAAO,GACP9B,UAAW,SAEf,CACI0B,OAAQ,KACRC,UAAW,2HACXC,MAAO,gBACPC,MAAO,IACPC,MAAO,GACP9B,UAAW,SAEf,CACI0B,OAAQ,KACRC,UAAW,2HACXC,MAAO,gBACPC,MAAO,IACPC,MAAO,GACP9B,UAAW,SAEf,CACI0B,OAAQ,KACRC,UAAW,2HACXC,MAAO,gBACPC,MAAO,IACPC,MAAO,GACP9B,UAAW,UA+BnB,MA3BmB,CAACA,EAAW0B,KAC3B,MAAM,EAACK,EAAQ,EAACC,IAAc3B,EAAAA,EAAAA,UAAS,MAuBvC,OArBAG,EAAAA,EAAAA,YAAU,KACN,IAAKR,IAAc0B,EAAQ,OAE3B,GAAkB,SAAd1B,EAEA,YADAgC,EAAWP,EAAgBQ,MAAKC,GAAKA,EAAER,SAAWA,KAAW,MAI/CX,WACd,IACI,MAAMC,QAAiBC,EAAAA,EAAMkB,IAAK,mFAAmFnC,YAAsB0B,KAC3IM,EAAWhB,EAASG,KAAKE,KAC7B,CAAE,MAAOG,GACLQ,EAAW,YACLI,EAAAA,EAAAA,IAAS,OACnB,GAGJC,GAAYC,MAAM,GACnB,CAACtC,EAAW0B,IAER,CAAEK,UAAS,E,oBCnBtB,MA1CyB,IAAiB,IAAhB,OAAEQ,GAAQ,EAChC,MAAM,KAAEpB,IAASqB,EAAAA,EAAAA,MACX,KAAErC,IAASsC,EAAAA,EAAAA,MACX,QAAEV,GAAYW,EAAWvB,aAAI,EAAJA,EAAMwB,GAAIJ,EAAO,MAchD,OAAKpB,GAASY,EAKV,gBAACa,EAAA,EAAM,CAACzB,KAAOA,GACX,uBAAK0B,UAAU,0EACX,uBAAKA,UAAU,oBACX,uBAAKA,UAAU,qEAAqEC,IAAMf,EAAQJ,UAAYoB,IAAMhB,EAAQH,QAC5H,uBAAKiB,UAAU,qCACX,sBAAIA,UAAU,uCAAwCd,EAAQH,OAC9D,sBAAIiB,UAAU,2CAA0C,IAAGd,EAAQF,OACnE,qBAAGgB,UAAU,kCAAmCd,EAAQiB,MACxD,uBAAKH,UAAU,uBACX,gBAAC,KAAM,CAACI,MAAM,UAAUC,QA1BzBnC,UACH,SAAZI,EAAKwB,GAKJxC,UACKiC,EAAAA,EAAAA,IAAS,UACf1B,aAAaY,QAAQ,WAAa,aAAaiB,EAAO,SANtDY,MAAM,2CAOV,EAiBuEN,UAAU,oBAAmB,iBAb7F,gBAACO,EAAA,EAAO,KAoBN,C","sources":["webpack://gatsby-starter-hello-world/./src/hooks/useUser.js","webpack://gatsby-starter-hello-world/./src/hooks/useVehicle.js","webpack://gatsby-starter-hello-world/./src/templates/vehicles-template.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nimport axios from 'axios';\r\n\r\nconst useUser = (tenant_id, email, password) => {\r\n    const [user, setUser] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const localUser = localStorage.getItem('user');\r\n\r\n        if (localUser) {\r\n            setUser(JSON.parse(localUser));\r\n        }\r\n    }, []);\r\n\r\n    const login = async (tenant_id, email, password) => {\r\n        setLoading(true);\r\n\r\n        try {\r\n            const response = await axios.post('https://zygv7lwv32.execute-api.us-east-1.amazonaws.com/prod/users/login', {\r\n                tenant_id,\r\n                email,\r\n                password\r\n            });\r\n\r\n            if (response.data.statusCode === 200) {\r\n                setUser(response.data.body);\r\n            }\r\n\r\n            localStorage.setItem('user', JSON.stringify(response.data.body));\r\n        } catch (error) {\r\n            setUser(null);\r\n        }\r\n\r\n        setLoading(false);\r\n    }\r\n\r\n    return { user, loading, login };\r\n};\r\n\r\nexport default useUser;\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport axios from 'axios';\r\nimport { navigate } from \"gatsby\";\r\n\r\nconst defaultVehicles = [\r\n    {\r\n        car_id: \"E3\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 3\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    },\r\n    {\r\n        car_id: \"E5\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 5\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    },\r\n    {\r\n        car_id: \"E1\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 1\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    },\r\n    {\r\n        car_id: \"E4\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 4\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    },\r\n    {\r\n        car_id: \"E2\",\r\n        image_url: \"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg\",\r\n        model: \"Example Car 2\",\r\n        price: 30000,\r\n        stock: 10,\r\n        tenant_id: \"HONDA\",\r\n    }\r\n];\r\n\r\nconst useVehicle = (tenant_id, car_id) => {\r\n    const [vehicle, setVehicle] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (!tenant_id || !car_id) return\r\n\r\n        if (tenant_id === 'NONE') {\r\n            setVehicle(defaultVehicles.find(v => v.car_id === car_id) || null);\r\n            return;\r\n        }\r\n\r\n        const fetchCars = async () => {\r\n            try {\r\n                const response = await axios.get(`https://06v3og3ci7.execute-api.us-east-1.amazonaws.com/prod/cars/get1?tenant_id=${ tenant_id }&car_id=${ car_id }`);\r\n                setVehicle(response.data.body);\r\n            } catch (error) {\r\n                setVehicle(null);\r\n                await navigate('/404');\r\n            }\r\n        };\r\n\r\n        fetchCars().then();\r\n    }, [tenant_id, car_id]);\r\n\r\n    return { vehicle };\r\n};\r\n\r\nexport default useVehicle;\r\n","import React from 'react';\r\n\r\nimport Layout from \"../components/Layout\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nimport useData from \"../hooks/useData\";\r\nimport useVehicle from \"../hooks/useVehicle\";\r\nimport { Button } from \"flowbite-react\";\r\nimport useUser from \"../hooks/useUser\";\r\nimport { navigate } from \"gatsby\";\r\n\r\nconst VehiclesTemplate = ({ params }) => {\r\n    const { data } = useData();\r\n    const { user } = useUser();\r\n    const { vehicle } = useVehicle(data?.id, params['*']);\r\n\r\n    const handlePurchase = async () => {\r\n        if (data.id === 'NONE') {\r\n            alert('You cannot purchase on our demo page. :D');\r\n            return;\r\n        }\r\n\r\n        if (!user) {\r\n            await navigate('/login')\r\n            localStorage.setItem('redirect', `/vehicles/${ params['*'] }`);\r\n        }\r\n    };\r\n\r\n    if (!data || !vehicle) {\r\n        return <Loading/>;\r\n    }\r\n\r\n    return (\r\n        <Layout data={ data }>\r\n            <div className=\"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-100\">\r\n                <div className=\"w-full max-w-4xl\">\r\n                    <img className=\"w-full h-auto object-cover object-center mb-4 rounded-lg shadow-md\" src={ vehicle.image_url } alt={ vehicle.model }/>\r\n                    <div className=\"p-6 bg-white rounded-lg shadow-md\">\r\n                        <h1 className=\"text-4xl font-bold mb-4 text-center\">{ vehicle.model }</h1>\r\n                        <h2 className=\"text-2xl text-gray-800 mb-4 text-center\">${ vehicle.price }</h2>\r\n                        <p className=\"text-gray-600 text-center mb-4\">{ vehicle.year }</p>\r\n                        <div className=\"flex justify-center\">\r\n                            <Button color=\"success\" onClick={ handlePurchase } className=\"w-full md:w-auto\">\r\n                                Purchase\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default VehiclesTemplate;"],"names":["tenant_id","email","password","user","setUser","useState","loading","setLoading","useEffect","localUser","localStorage","getItem","JSON","parse","login","async","response","axios","post","data","statusCode","body","setItem","stringify","error","defaultVehicles","car_id","image_url","model","price","stock","vehicle","setVehicle","find","v","get","navigate","fetchCars","then","params","useData","useUser","useVehicle","id","Layout","className","src","alt","year","color","onClick","alert","Loading"],"sourceRoot":""}