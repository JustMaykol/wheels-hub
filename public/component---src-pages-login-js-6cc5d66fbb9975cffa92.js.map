{"version":3,"file":"component---src-pages-login-js-6cc5d66fbb9975cffa92.js","mappings":"4NA+EA,UApEc,KACV,MAAM,KAAEA,IAASC,EAAAA,EAAAA,MACX,KAAEC,EAAI,MAAEC,EAAK,QAAEC,EAAO,MAAEC,IAAUC,EAAAA,EAAAA,MAElC,EAACC,EAAM,EAACC,IAAYC,EAAAA,EAAAA,UAAS,KAC7B,EAACC,EAAS,EAACC,IAAeF,EAAAA,EAAAA,UAAS,KAEzCG,EAAAA,EAAAA,YAAU,KACN,GAAIV,EAAM,CACN,MAAMW,EAAWC,aAAaC,QAAQ,YAEtC,GAAIF,EAGA,OAFAC,aAAaE,WAAW,iBACxBC,EAAAA,EAAAA,IAASJ,IAIbI,EAAAA,EAAAA,IAAS,IACb,IACD,CAACf,IAiBJ,OAAKF,EAKD,gBAAC,IAAM,CAACA,KAAOA,GACX,uBAAKkB,UAAU,4FACX,uBAAKA,UAAU,8EACX,sBAAIA,UAAU,sDAAsDC,MAAQ,CAAEC,MAAOpB,EAAKoB,QAAU,UAClGjB,GAAS,qBAAGe,UAAU,iCAAkCf,GAE1D,wBAAMkB,SA1BFC,UAChBC,EAAMC,iBAEU,SAAZxB,EAAKyB,SAKHpB,EAAML,EAAKyB,GAAIlB,EAAOG,GAJxBgB,MAAM,wCAI2B,GAmBrB,uBAAKR,UAAU,QACX,gBAAC,KAAS,CAACO,GAAG,QAAQE,KAAK,QAAQC,MAAQrB,EAAQsB,SAAYN,GAAUf,EAASe,EAAMO,OAAOF,OAASG,YAAY,iBAAiBC,UAAQ,KAGjJ,uBAAKd,UAAU,QACX,gBAAC,KAAS,CAACO,GAAG,WAAWE,KAAK,WAAWC,MAAQlB,EAAWmB,SAAYN,GAAUZ,EAAYY,EAAMO,OAAOF,OAASG,YAAY,WAAWC,UAAQ,KAGvJ,gBAAC,KAAM,CAACL,KAAK,SAAST,UAAU,SAASE,MAAM,WAAYhB,EAAU,gBAAkB,WAG3F,uBAAKc,UAAU,4BACX,gBAAC,KAAM,CAACe,QA5BLX,gBACbL,EAAAA,EAAAA,IAAS,YAAY,EA2BwBG,MAAM,OAAOF,UAAU,UAAS,gBAvB5E,gBAAC,IAAO,KA2BN,C","sources":["webpack://gatsby-starter-hello-world/./src/pages/login.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport { navigate } from 'gatsby';\r\nimport { Button, TextInput } from 'flowbite-react';\r\n\r\nimport Layout from \"../components/Layout\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nimport useData from \"../hooks/useData\";\r\nimport useUser from \"../hooks/useUser\";\r\n\r\nconst Login = () => {\r\n    const { data } = useData();\r\n    const { user, error, loading, login } = useUser();\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            const redirect = localStorage.getItem('redirect');\r\n\r\n            if (redirect) {\r\n                localStorage.removeItem('redirect');\r\n                navigate(redirect);\r\n                return;\r\n            }\r\n\r\n            navigate('/');\r\n        }\r\n    }, [user]);\r\n\r\n    const handleLogin = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if (data.id === 'NONE') {\r\n            alert('You cannot login on our demo page. :D');\r\n            return;\r\n        }\r\n\r\n        await login(data.id, email, password)\r\n    };\r\n\r\n    const handleRegister = async () => {\r\n        await navigate('/register');\r\n    };\r\n\r\n    if (!data) {\r\n        return <Loading/>;\r\n    }\r\n\r\n    return (\r\n        <Layout data={ data }>\r\n            <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-r from-gray-100 to-gray-300\">\r\n                <div className=\"w-full max-w-md p-6 bg-white shadow-lg rounded-lg border-2 border-gray-200\">\r\n                    <h2 className=\"text-3xl font-bold text-center text-indigo-600 mb-6\" style={ { color: data.color } }>Log In</h2>\r\n                    { error && <p className=\"text-red-500 text-center mb-4\">{ error }</p> }\r\n\r\n                    <form onSubmit={ handleLogin }>\r\n                        <div className=\"mb-4\">\r\n                            <TextInput id=\"email\" type=\"email\" value={ email } onChange={ (event) => setEmail(event.target.value) } placeholder=\"john@email.com\" required/>\r\n                        </div>\r\n\r\n                        <div className=\"mb-4\">\r\n                            <TextInput id=\"password\" type=\"password\" value={ password } onChange={ (event) => setPassword(event.target.value) } placeholder=\"********\" required/>\r\n                        </div>\r\n\r\n                        <Button type=\"submit\" className=\"w-full\" color=\"success\">{ loading ? 'Logging In...' : 'Log In' }</Button>\r\n                    </form>\r\n\r\n                    <div className=\"flex justify-center mt-4\">\r\n                        <Button onClick={ handleRegister } color=\"info\" className=\"w-full\">Register</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"names":["data","useData","user","error","loading","login","useUser","email","setEmail","useState","password","setPassword","useEffect","redirect","localStorage","getItem","removeItem","navigate","className","style","color","onSubmit","async","event","preventDefault","id","alert","type","value","onChange","target","placeholder","required","onClick"],"sourceRoot":""}