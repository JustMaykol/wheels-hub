"use strict";(self.webpackChunkgatsby_starter_hello_world=self.webpackChunkgatsby_starter_hello_world||[]).push([[422],{8453:function(e,t,a){var s=a(7294),r=a(238);t.Z=(e,t,a)=>{const{0:c,1:o}=(0,s.useState)(null),{0:l,1:i}=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=localStorage.getItem("user");e&&o(JSON.parse(e))}),[]);return{user:c,loading:l,login:async(e,t,a)=>{i(!0);try{const s=await r.Z.post("https://zygv7lwv32.execute-api.us-east-1.amazonaws.com/prod/users/login",{tenant_id:e,email:t,password:a});200===s.data.statusCode&&o(s.data.body),localStorage.setItem("user",JSON.stringify(s.data.body))}catch(s){o(null)}i(!1)}}}},7421:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var s=a(7294),r=a(7255),c=a(580),o=a(6548),l=a(238),i=a(4160);const n=[{car_id:"E3",image_url:"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg",model:"Example Car 3",price:3e4,stock:10,tenant_id:"HONDA"},{car_id:"E5",image_url:"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg",model:"Example Car 5",price:3e4,stock:10,tenant_id:"HONDA"},{car_id:"E1",image_url:"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg",model:"Example Car 1",price:3e4,stock:10,tenant_id:"HONDA"},{car_id:"E4",image_url:"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg",model:"Example Car 4",price:3e4,stock:10,tenant_id:"HONDA"},{car_id:"E2",image_url:"https://static.vecteezy.com/system/resources/previews/006/087/530/non_2x/silhouette-of-a-sports-car-side-view-vector.jpg",model:"Example Car 2",price:3e4,stock:10,tenant_id:"HONDA"}];var m=(e,t)=>{const{0:a,1:r}=(0,s.useState)(null);return(0,s.useEffect)((()=>{if(!e||!t)return;if("NONE"===e)return void r(n.find((e=>e.car_id===t))||null);(async()=>{try{const a=await l.Z.get(`https://06v3og3ci7.execute-api.us-east-1.amazonaws.com/prod/cars/get1?tenant_id=${e}&car_id=${t}`);r(a.data.body)}catch(a){r(null),await(0,i.c4)("/404")}})().then()}),[e,t]),{vehicle:a}},u=a(6240),d=a(8453);var p=e=>{let{params:t}=e;const{data:a}=(0,o.Z)(),{user:l}=(0,d.Z)(),{vehicle:n}=m(null==a?void 0:a.id,t["*"]);return a&&n?s.createElement(r.Z,{data:a},s.createElement("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-100"},s.createElement("div",{className:"w-full max-w-4xl"},s.createElement("img",{className:"w-full h-auto object-cover object-center mb-4 rounded-lg shadow-md",src:n.image_url,alt:n.model}),s.createElement("div",{className:"p-6 bg-white rounded-lg shadow-md"},s.createElement("h1",{className:"text-4xl font-bold mb-4 text-center"},n.model),s.createElement("h2",{className:"text-2xl text-gray-800 mb-4 text-center"},"$",n.price),s.createElement("p",{className:"text-gray-600 text-center mb-4"},n.year),s.createElement("div",{className:"flex justify-center"},s.createElement(u.zx,{color:"success",onClick:async()=>{"NONE"!==a.id?l||(await(0,i.c4)("/login"),localStorage.setItem("redirect",`/vehicles/${t["*"]}`)):alert("You cannot purchase on our demo page. :D")},className:"w-full md:w-auto"},"Purchase")))))):s.createElement(c.Z,null)}}}]);
//# sourceMappingURL=component---src-templates-vehicles-template-js-52e1ef599181d5e07ae2.js.map